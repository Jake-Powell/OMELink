<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Case Study: Matching names to a name database â€¢ OMELink</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Case Study: Matching names to a name database">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OMELink</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Matching_names_to_a_name_database.html">Case Study: Matching names to a name database</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Jake-Powell/OMELink/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="Matching_names_to_a_name_database_files/htmltools-fill-0.5.9/fill.css" rel="stylesheet">
<script src="Matching_names_to_a_name_database_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="Matching_names_to_a_name_database_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="Matching_names_to_a_name_database_files/datatables-binding-0.34.0/datatables.js"></script><link href="Matching_names_to_a_name_database_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="Matching_names_to_a_name_database_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="Matching_names_to_a_name_database_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="Matching_names_to_a_name_database_files/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="Matching_names_to_a_name_database_files/crosstalk-1.2.2/js/crosstalk.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Case Study: Matching names to a name database</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Jake-Powell/OMELink/blob/master/vignettes/Matching_names_to_a_name_database.Rmd" class="external-link"><code>vignettes/Matching_names_to_a_name_database.Rmd</code></a></small>
      <div class="d-none name"><code>Matching_names_to_a_name_database.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Jake-Powell/OMELink" class="external-link">OMELink</a></span><span class="op">)</span></span></code></pre></div>
<p><strong>In this document we will provide a run through of how to
match names to a name database and perform some checks.</strong></p>
<p>The setup of this example is we have a list of individuals we want to
match to our name database and either extract a unique reference to an
individual or add them to the database.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">to_match</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>FN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Karl'</span>, <span class="st">'Janet'</span><span class="op">)</span>,</span>
<span>                      LN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Linnaeus'</span>, <span class="st">'Brown'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">botanist_db</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  UPI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CL001"</span>, <span class="st">"JB002"</span>, <span class="st">"AH003"</span>, <span class="st">"AA004"</span>, <span class="st">"JB003"</span>, <span class="st">"GB004"</span><span class="op">)</span>,</span>
<span>  FN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Carl---Karl"</span>, <span class="st">"Joseph"</span>, <span class="st">"Alexander---Alex"</span>, <span class="st">"Agnes"</span>, <span class="st">"Janet"</span>, <span class="st">"George"</span><span class="op">)</span>,</span>
<span>  LN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Linnaeus---Linnaeus"</span>, <span class="st">"Banks"</span>, <span class="st">"von Humboldt---von Humboldt"</span>, <span class="st">"Arber"</span>, <span class="st">"Browne"</span>, <span class="st">"Bentham"</span><span class="op">)</span>,</span>
<span>  Expedition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sweden"</span>, <span class="st">"Endeavour"</span>, <span class="st">"South America"</span>, <span class="st">"UK"</span>, <span class="st">"UK"</span>, <span class="st">"Australia"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Show data</span></span>
<span><span class="va">to_match</span> <span class="op">|&gt;</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>rownames <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["Karl","Janet"],["Linnaeus","Brown"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>FN<\/th>\n      <th>LN<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"FN","targets":0},{"name":"LN","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">botanist_db</span> <span class="op">|&gt;</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>rownames <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[["CL001","JB002","AH003","AA004","JB003","GB004"],["Carl---Karl","Joseph","Alexander---Alex","Agnes","Janet","George"],["Linnaeus---Linnaeus","Banks","von Humboldt---von Humboldt","Arber","Browne","Bentham"],["Sweden","Endeavour","South America","UK","UK","Australia"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>UPI<\/th>\n      <th>FN<\/th>\n      <th>LN<\/th>\n      <th>Expedition<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"UPI","targets":0},{"name":"FN","targets":1},{"name":"LN","targets":2},{"name":"Expedition","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="section level2">
<h2 id="tldr---matching-all-names">TL:DR - matching all names<a class="anchor" aria-label="anchor" href="#tldr---matching-all-names"></a>
</h2>
<p>First we want to attempt matching all names in <code>to_match</code>
to <code>botanist_db</code> we can do this with the
<code><a href="../reference/match_people_to_data.html">match_people_to_data()</a></code> function by the following</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">=</span> <span class="fu"><a href="../reference/match_people_to_data.html">match_people_to_data</a></span><span class="op">(</span>to_match <span class="op">=</span> <span class="va">to_match</span>, data <span class="op">=</span> <span class="va">botanist_db</span><span class="op">)</span></span>
<span> </span>
<span><span class="co"># Show outcome</span></span>
<span><span class="va">result</span> <span class="op">|&gt;</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>rownames <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"filter":"none","vertical":false,"data":[["Karl","Janet"],["Linnaeus","Brown"],["EXACT","FN only"],["CL001","JB003"],["karl","janet"],["linnaeus","browne"],["Sweden","UK"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>FN<\/th>\n      <th>LN<\/th>\n      <th>Method<\/th>\n      <th>NameDB_UPI<\/th>\n      <th>NameDB_FN<\/th>\n      <th>NameDB_LN<\/th>\n      <th>NameDB_Expedition<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"FN","targets":0},{"name":"LN","targets":1},{"name":"Method","targets":2},{"name":"NameDB_UPI","targets":3},{"name":"NameDB_FN","targets":4},{"name":"NameDB_LN","targets":5},{"name":"NameDB_Expedition","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p>We see that the output is the names provided in <code>to_match</code>
appended with the match method and all columns from botanist_db. From
this we can use the method variable to check the confidence of matches.
Note that for names with multiple options only the name used in the
matching is reported in the output.</p>
</div>
<div class="section level2">
<h2 id="section"></h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jake Powell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
